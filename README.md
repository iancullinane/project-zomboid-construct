
project-zomboid-construct
=========================

This will provide a project zomboid server runnning on EC2. Server configs will be generated at synth. If you provide a file under `assets/mods.txt` you can use a space seperated Modname:ModID format to list server mods. This way they will be downloaded and managed at server start.  

It is assumed you have a VPC and HostedZone to hook into. 

The stack will provide the following:

* The four needed config files, and a systemd unit file
  * Generated by template (coming soon, more config)
* MultiPartUserData
  * Install system dependencies
  * Install game via steamcmd
  * Create cdk assets from the files generated at synth
    * Add file commands (including unzip of main files) to UserData
  * Write, enable, and start a systemd unit file on `start-server.sh`
* A subdomain on the provided HostedZone (server name is your domain name, without a ".com")
* Steam ingress rules
* If provided, IP address whitelisting for a set of users (required until NLB is finished)
* An EC2 instance using all above

***Note***: As of this commit access is provided by IP address ingress rules. This will remain until I finish the networking portion.

### Context
Your stack props will require the following:

```
    environment: {
      example: {
        region: "us-east-1",
        ami: "ami-0123456789abcdefg",
        subdomain: "sub",
        servername: "example"
      },
      ...
    },
```

Altogetehr after dpeloy a player would be able to use `sub.example.com` on port `16261` and `8766` as well as necessary ports for Steam.
